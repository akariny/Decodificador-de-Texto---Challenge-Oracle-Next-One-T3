<!DOCTYPE html>
<html lang="pt-br">
    <head>
        <title>Decodificador de Texto</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script src="https://kit.fontawesome.com/cf2a940c56.js" crossorigin="anonymous"></script>
        <link rel="stylesheet" type="text/css" href="reset.css">
        <link rel="stylesheet" type="text/css" href="style.css">
    </head>
    <body>
        <header class="cabecalho">
            <img src="logoAlura.png" alt="Logo Alura" class="logo">
        </header>

        <div class="content">

            <section class="principal">
                <textarea id="textarea1"class="textarea-principal" placeholder="Digite seu texto"></textarea>
                <p class="aviso">
                        <i class="fa-solid fa-circle-info"></i>
                         Somente letras min√∫sculas e sem acento!
                    </p>
                <div class="botoes">
                    <button id="botao-criptografar" class="botao">Criptografar</button>
                    <button id="botao-descriptografar" class="botao">Descriptografar</button>   
                </div>
                
            </section>

            <section class="sessao-texto-resultante">
                <div class="texto-resultante">
                    <textarea id="textarea2" class="textarea" placeholder="Resultado aqui" readonly></textarea>  
                </div>
                <button id="botao-copiar" class="botao copiar">Copiar texto</button>
            </section>
        </div>

        <footer class="rodape">
            <div class="imagem-rodape">
                <a href="https://www.linkedin.com/in/anakariny/" target="_blank"><img src="linkedin-logo.png"></a>
                <a href="https://github.com/akariny" target="_blank"><img src="github-logo.png"></a>    
            </div>
            <p>Desenvolvido por: Ana Kariny &copy; 2022</p>
            <p>Oracle Next Education T3 | Alura </p>
            <img src="badge.png" alt="Badge Desafio Encriptador" class="bagde">
        </footer>

        <script>
            var texto = document.querySelector('textarea');
            var mostraTexto = document.querySelector('#textarea2');
            var fundoRecebeTexto = document.querySelector('.texto-resultante');
            
            var botaoCriptografar = document.getElementById('botao-criptografar');
            var botaoDescriptografar = document.getElementById('botao-descriptografar');
            var botaoCopiar = document.getElementById('botao-copiar');

            function tiraImagem() {
                fundoRecebeTexto.style.background = 'white';
            }
            
            function criptografaTexto() {
                var criptografia = texto.value;
                criptografia = criptografia.replace(/e/gi , 'enter');
                criptografia = criptografia.replace(/i/gi , 'imes');
                criptografia = criptografia.replace(/a/gi , 'ai');
                criptografia = criptografia.replace(/o/gi , 'ober');
                criptografia = criptografia.replace(/u/gi , 'ufat');
                
                tiraImagem();
                mostraTexto.innerText = criptografia;
            }

            function descriptografaTexto() {
                var descriptografia = texto.value;
                descriptografia = descriptografia.replace(/enter/gi , 'e');
                descriptografia = descriptografia.replace(/imes/gi , 'i');
                descriptografia = descriptografia.replace(/ai/gi , 'a');
                descriptografia = descriptografia.replace(/ober/gi , 'o');
                descriptografia = descriptografia.replace(/ufat/gi , 'u');

                tiraImagem();
                mostraTexto.innerText = descriptografia;
            }

            function copiaTexto() {
                mostraTexto.select();
                mostraTexto.setSelectionRange(0, 99999);
                document.execCommand("copy");
                
                mostraTexto.innerText = "";
            }
            
            botaoCriptografar.onclick = criptografaTexto;
            botaoDescriptografar.onclick = descriptografaTexto; 
            botaoCopiar.onclick = copiaTexto;    
        </script>
    </body> 
</html>
